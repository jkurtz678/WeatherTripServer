(this.webpackJsonproadtrip=this.webpackJsonproadtrip||[]).push([[0],{23:function(e,t,a){e.exports=a(73)},29:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),s=a.n(o),c=a(3),l=a.n(c),i=a(11),u=a(5),m=a(6),d=a(8),p=a(7),h=a(9),b=(a(29),a(4)),g=a.n(b),v=(a(47),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={start:"",end:""},a.onStartChange=function(e){a.setState({start:e.target.value})},a.onEndChange=function(e){a.setState({end:e.target.value})},a.onFormSubmit=function(e){e.preventDefault(),a.props.onFormSubmit(a.state.start,a.state.end)},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"search-container"},r.a.createElement("h3",null,"Enter your trip (must be US cities):"),r.a.createElement("form",{onSubmit:this.onFormSubmit},r.a.createElement("div",{className:"input-container"},r.a.createElement("div",null,r.a.createElement("h4",null,"Start:"),r.a.createElement("h4",null,"Destination:")),r.a.createElement("div",null,r.a.createElement("input",{className:"location-search",type:"text",value:this.state.start,onChange:this.onStartChange,placeholder:"city, state"}),r.a.createElement("br",null),r.a.createElement("input",{className:"location-search",type:"text",value:this.state.end,onChange:this.onEndChange,placeholder:"city, state"}))),r.a.createElement("input",{type:"submit",value:"Build route",className:"search-button"})))}}]),t}(r.a.Component)),E=(a(48),{"clear-day":"clear-day.jpg","clear-night":"clear-night.jpg","partly-cloudy-day":"partly-cloudy-day.jpg","partly-cloudy-night":"partly-cloudy-night.jpg",cloudy:"cloudy.jpg",rain:"rain.jpg",snow:"snow.jpg",sleet:"snow.jpg",fog:"fog.jpg"}),f=function(e){var t=e.location,a=e.nodeType,n=function(e){return{start:{timeClass:"start",timeLabel:"Leaving time",nodeClass:"end",distanceLabel:r.a.createElement("h3",null,"Start"),timeBubbleStyle:{backgroundImage:"url(".concat("/assets/","green-bubble.jpg)")}},stop:{timeClass:"",timeLabel:"Estimated time",nodeClass:"",distanceLabel:r.a.createElement("h3",null,e.distance," mi"),timeBubbleStyle:{backgroundImage:"url(".concat("/assets/","gray-bubble.jpg)")}},end:{timeClass:"end",timeLabel:"Estimated arrival",nodeClass:"end",distanceLabel:r.a.createElement("div",null,r.a.createElement("h3",null,e.distance," mi"),r.a.createElement("h3",null,"Destination")),timeBubbleStyle:{backgroundImage:"url(".concat("/assets/","red-bubble.jpg)")}}}}(t)[a],o=n.timeClass,s=n.timeLabel,c=n.nodeClass,l=n.distanceLabel,i=n.timeBubbleStyle,u={backgroundImage:"url(".concat("/assets/").concat(E[t.icon]||"clear.jpeg",")")};return console.log(i),r.a.createElement("div",{className:"row-container"},r.a.createElement("div",{className:"distance-label "+c},l),r.a.createElement("div",{className:"node "+c,style:u},r.a.createElement("div",{className:"node-container"},r.a.createElement("h4",{className:"node-item"},t.city+", "+t.state),r.a.createElement("h2",{className:"node-item"},t.temp,"\xb0"),r.a.createElement("h4",{className:"node-item"},t.summary))),r.a.createElement("div",{className:"time-node "+o,style:i},r.a.createElement("div",{className:"time-container"},r.a.createElement("h4",{className:"node-item"},s),r.a.createElement("h3",{className:"node-item"},t.time))))},y=(a(49),a(10)),j=y.a.div({visible:{opacity:1},hidden:{opacity:0}}),w=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){console.log("show location prop:",this.props.isVisible);var e=this.props.locations.map((function(e,t){var a="stop";return 0===t?a="start":4===t&&(a="end"),r.a.createElement(f,{key:e.city,location:e,nodeType:a})}));return r.a.createElement(j,{className:"fade-div",pose:this.props.isVisible?"visible":"hidden"},e)}}]),t}(r.a.Component),N=(a(50),a(22)),S=a.n(N),k=y.a.div({visible:{opacity:1},hidden:{opacity:0}}),C=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={routePoints:[],showLocations:!1,showError:!1,loading:!1},a.getTrip=function(){var e=Object(i.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/trip/"+t);case 2:a=e.sent,console.log(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.startBackground=function(){a.refs.bgVid.play()},a.onSearchSubmit=function(){var e=Object(i.a)(l.a.mark((function e(t,n){var r,o,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("sending location request..."),a.startBackground(),a.setState({showLocations:!1,showError:!1,loading:!0}),e.prev=3,e.next=6,g.a.all([g.a.get(/location/+t),g.a.get(/location/+n)]);case 6:return r=e.sent,console.log("REACT: location response:",r),o=r[0].data.lat+","+r[0].data.lon+":"+r[1].data.lat+","+r[1].data.lon,e.next=11,g.a.get("/trip/"+o);case 11:s=e.sent,console.log(s),a.setState({routePoints:s.data,showLocations:!0,showError:!1,loading:!1}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),console.log("REACT ERROR"),a.setState({showError:!0,showLocations:!1,loading:!1});case 20:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t,a){return e.apply(this,arguments)}}(),a.onClickTwo=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/test/cities");case 2:t=e.sent,console.log(t),a.setState({routePoints:t.data,showLocations:!0}),a.startBackground();case 6:case"end":return e.stop()}}),e)}))),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"page-container"},r.a.createElement("div",{className:"video-background"},r.a.createElement("div",{className:"video-foreground"},r.a.createElement("video",{ref:"bgVid",className:"video-iframe"},r.a.createElement("source",{src:"./asphalt.mp4",type:"video/mp4"}),"Your browser does not support the video tag."))),r.a.createElement("div",{className:"app-container"},r.a.createElement("div",{className:"left-container"},r.a.createElement("div",{className:"title-container"},r.a.createElement("h1",null,"WeatherTrip"),r.a.createElement("h3",null,"Weather conditions for the road ahead")),r.a.createElement(v,{onFormSubmit:this.onSearchSubmit}),r.a.createElement(k,{className:"error",pose:this.state.showError?"visible":"hidden"},"Invalid route locations!"),r.a.createElement("div",{className:"progress-container "+(this.state.loading?"":"hidden")},r.a.createElement(S.a,{type:"Puff",color:"white",height:100,width:100}),r.a.createElement("h3",null,"Building route"),r.a.createElement("h3",null,"Should take 8-15 seconds"))),r.a.createElement("div",{className:"route-container"},r.a.createElement(w,{locations:this.state.routePoints,isVisible:this.state.showLocations})),r.a.createElement("div",{className:"footer"},"\xa9 Jackson Kurtz. All rights reserved. Powered by",r.a.createElement("a",{href:"https://developer.tomtom.com",target:"_blank"},"TomTom")," ","and",r.a.createElement("a",{href:"https://developer.tomtom.com",target:"_blank"}," ","Darksky"))))}}]),t}(r.a.Component);a(72);s.a.render(r.a.createElement(C,null),document.querySelector("#root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.e8920423.chunk.js.map